<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>vura.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">vura</span> <span class="project-version">0.5.2-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="vura.core.html"><div class="inner"><span>vura.core</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="vura.core.html#var-*find-year*"><div class="inner"><span>*find-year*</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-*holiday.3F*"><div class="inner"><span>*holiday?*</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-*offset*"><div class="inner"><span>*offset*</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-*weekend-days*"><div class="inner"><span>*weekend-days*</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-calendar-frame"><div class="inner"><span>calendar-frame</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-date"><div class="inner"><span>date</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-date-.3Evalue"><div class="inner"><span>date-&gt;value</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day"><div class="inner"><span>day</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day-context"><div class="inner"><span>day-context</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day-in-month.3F"><div class="inner"><span>day-in-month?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day-in-year.3F"><div class="inner"><span>day-in-year?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day-time-context"><div class="inner"><span>day-time-context</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-day.3F"><div class="inner"><span>day?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-days"><div class="inner"><span>days</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-days-in-month"><div class="inner"><span>days-in-month</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-first-day-in-month"><div class="inner"><span>first-day-in-month</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-first-day-in-month.3F"><div class="inner"><span>first-day-in-month?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-future-years"><div class="inner"><span>future-years</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-get-offset"><div class="inner"><span>get-offset</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-hour"><div class="inner"><span>hour</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-hour.3F"><div class="inner"><span>hour?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-hours"><div class="inner"><span>hours</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-interval"><div class="inner"><span>interval</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-intervals"><div class="inner"><span>intervals</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-last-day-in-month.3F"><div class="inner"><span>last-day-in-month?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-leap-year-day-mapping"><div class="inner"><span>leap-year-day-mapping</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-leap-year.3F"><div class="inner"><span>leap-year?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-microsecond"><div class="inner"><span>microsecond</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-midnight"><div class="inner"><span>midnight</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-millisecond"><div class="inner"><span>millisecond</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-millisecond.3F"><div class="inner"><span>millisecond?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-minute"><div class="inner"><span>minute</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-minute.3F"><div class="inner"><span>minute?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-minutes"><div class="inner"><span>minutes</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-month.3F"><div class="inner"><span>month?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-nanosecond"><div class="inner"><span>nanosecond</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-normal-year-day-mapping"><div class="inner"><span>normal-year-day-mapping</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-past-years"><div class="inner"><span>past-years</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-period"><div class="inner"><span>period</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-round-number"><div class="inner"><span>round-number</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-second"><div class="inner"><span>second</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-second.3F"><div class="inner"><span>second?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-seconds"><div class="inner"><span>seconds</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-time-context"><div class="inner"><span>time-context</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-value-.3Edate"><div class="inner"><span>value-&gt;date</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-week"><div class="inner"><span>week</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-week-in-year.3F"><div class="inner"><span>week-in-year?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-weekend.3F"><div class="inner"><span>weekend?</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-weeks"><div class="inner"><span>weeks</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-with-time-configuration"><div class="inner"><span>with-time-configuration</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-year-day-mapping"><div class="inner"><span>year-day-mapping</span></div></a></li><li class="depth-1"><a href="vura.core.html#var-year.3F"><div class="inner"><span>year?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">vura.core</h1><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*find-year*"><h3>*find-year*</h3><h4 class="dynamic">dynamic</h4><div class="usage"><code>(*find-year* value)</code></div><div class="doc"><pre class="plaintext">Finds a year for given value. Returns
{:year x
 :seconds x}
for given value where seconds is number of seconds of start of the year
relative to unix-epoch-year</pre></div></div><div class="public anchor" id="var-*holiday.3F*"><h3>*holiday?*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This variable is supposed to be used through with-time-configuration
macro. Specify function that calculates if given day-context is
holiday or not. Look @ "day-context" Returns boolean</pre></div></div><div class="public anchor" id="var-*offset*"><h3>*offset*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Variable that is used in function get-offset. -&gt;local, &lt;-local and day? funcitons are affected
when changing value of this variable. I.E. (binding [*offset* -60] ...) would make all computations
in that time zone.</pre></div></div><div class="public anchor" id="var-*weekend-days*"><h3>*weekend-days*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">This variable can be used to customize weekend? function to
return true or false for day-context. Function should accept one
argument that is supposed to be day [1-7] and return true or false.</pre></div></div><div class="public anchor" id="var-calendar-frame"><h3>calendar-frame</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Returns sequence of days for given value that are contained in that frame-type. List is consisted
of keys:

 :value
 :day
 :week
 :month
 :day-in-month
 :weekend?
 :holiday?
 :first-day-in-month?
 :last-day-in-month?

 for Gregorian calendar. Frame types can be extened by implementing different calendar-frame functions.
 Vura supports calendar-frames for:
  * year
  * month
  * week</pre></div></div><div class="public anchor" id="var-date"><h3>date</h3><div class="usage"><code>(date)</code><code>(date year)</code><code>(date year month)</code><code>(date year month day)</code><code>(date year month day hour)</code><code>(date year month day hour minute)</code><code>(date year month day hour minute second)</code><code>(date year month day' hour' minute' second' millisecond')</code></div><div class="doc"><pre class="plaintext">Constructs new Date object.
Months: 1-12
Days: 1-7 (1 is Monday)</pre></div></div><div class="public anchor" id="var-date-.3Evalue"><h3>date-&gt;value</h3><div class="usage"><code>(date-&gt;value t)</code></div><div class="doc"><pre class="plaintext">Returns value of Date instance in seconds. Value is localized to offset
</pre></div></div><div class="public anchor" id="var-day"><h3>day</h3><div class="usage"></div><div class="doc"><pre class="plaintext">86400
</pre></div></div><div class="public anchor" id="var-day-context"><h3>day-context</h3><div class="usage"><code>(day-context value)</code></div><div class="doc"><pre class="plaintext">Returns day context for given value in Gregorian calendar. 

Returnes hash-map with keys: 
  :value
  :day
  :week
  :month
  :year
  :day-in-month
  :weekend?
  :holiday?
  :first-day-in-month?
  :last-day-in-month?</pre></div></div><div class="public anchor" id="var-day-in-month.3F"><h3>day-in-month?</h3><div class="usage"><code>(day-in-month? value)</code></div><div class="doc"><pre class="plaintext">Returns which day (Gregorian) in month input value belongs to. For example
for date 15.02.2015 it will return number 15</pre></div></div><div class="public anchor" id="var-day-in-year.3F"><h3>day-in-year?</h3><div class="usage"><code>(day-in-year? value)</code></div><div class="doc"><pre class="plaintext">Returns day in year period (1 - 366)
</pre></div></div><div class="public anchor" id="var-day-time-context"><h3>day-time-context</h3><div class="usage"><code>(day-time-context value)</code></div><div class="doc"><pre class="plaintext">Composition of time-context and day-context
</pre></div></div><div class="public anchor" id="var-day.3F"><h3>day?</h3><div class="usage"><code>(day? value)</code></div><div class="doc"><pre class="plaintext">Returns which day in week does input value belongs to. For example
for date 15.02.2015 it will return number 7</pre></div></div><div class="public anchor" id="var-days"><h3>days</h3><div class="usage"><code>(days n)</code></div><div class="doc"><pre class="plaintext">Function returns value of n days as number.
</pre></div></div><div class="public anchor" id="var-days-in-month"><h3>days-in-month</h3><div class="usage"><code>(days-in-month month leap-year?)</code></div><div class="doc"><pre class="plaintext">Mapping for months. Returns how much are there for input month according
to Gregorian calendar.</pre></div></div><div class="public anchor" id="var-first-day-in-month"><h3>first-day-in-month</h3><div class="usage"><code>(first-day-in-month month)</code><code>(first-day-in-month month leap-year?)</code></div><div class="doc"><pre class="plaintext">Returns first day for given month in range of days 1-366 for leap-year?
</pre></div></div><div class="public anchor" id="var-first-day-in-month.3F"><h3>first-day-in-month?</h3><div class="usage"><code>(first-day-in-month? value)</code></div><div class="doc"><pre class="plaintext">Returns true if value in seconds belongs to first day in month.
</pre></div></div><div class="public anchor" id="var-future-years"><h3>future-years</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Definition of future years. Lazy sequence of all future years from
unix-epoch-year according to Gregorian calendar</pre></div></div><div class="public anchor" id="var-get-offset"><h3>get-offset</h3><div class="usage"><code>(get-offset date)</code></div><div class="doc"><pre class="plaintext">Funciton returns time zone for input Date object
</pre></div></div><div class="public anchor" id="var-hour"><h3>hour</h3><div class="usage"></div><div class="doc"><pre class="plaintext">3600
</pre></div></div><div class="public anchor" id="var-hour.3F"><h3>hour?</h3><div class="usage"><code>(hour? value)</code></div><div class="doc"><pre class="plaintext">Returns which hour in day does input value belongs to. For example
for date 15.02.2015 it will return number 0</pre></div></div><div class="public anchor" id="var-hours"><h3>hours</h3><div class="usage"><code>(hours n)</code></div><div class="doc"><pre class="plaintext">Function returns value of n hours as number.
</pre></div></div><div class="public anchor" id="var-interval"><h3>interval</h3><div class="usage"><code>(interval start end)</code></div><div class="doc"><pre class="plaintext">Returns period of time value in milliseconds between start and end. Input values
are supposed to be Date.</pre></div></div><div class="public anchor" id="var-intervals"><h3>intervals</h3><div class="usage"><code>(intervals &amp; timestamps)</code></div><div class="doc"><pre class="plaintext">Given sequence of timestamps (Date) values returns period values between each timestamp
value in milliseconds</pre></div></div><div class="public anchor" id="var-last-day-in-month.3F"><h3>last-day-in-month?</h3><div class="usage"><code>(last-day-in-month? value)</code></div><div class="doc"><pre class="plaintext">Returns true if value in seconds belongs to last day in month.
</pre></div></div><div class="public anchor" id="var-leap-year-day-mapping"><h3>leap-year-day-mapping</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Year day to month mapping calculated during compilation with year-day-mapping function for leap year.
</pre></div></div><div class="public anchor" id="var-leap-year.3F"><h3>leap-year?</h3><div class="usage"><code>(leap-year? year)</code></div><div class="doc"><pre class="plaintext">Calculates if date value belongs to year that is defined as leap year.
</pre></div></div><div class="public anchor" id="var-microsecond"><h3>microsecond</h3><div class="usage"></div><div class="doc"><pre class="plaintext">1.0E-6
</pre></div></div><div class="public anchor" id="var-midnight"><h3>midnight</h3><div class="usage"><code>(midnight value)</code></div><div class="doc"><pre class="plaintext">Function calculates value of midnight for given value. For example
if some date value is inputed it will round-number to the begining of
that day.</pre></div></div><div class="public anchor" id="var-millisecond"><h3>millisecond</h3><div class="usage"></div><div class="doc"><pre class="plaintext">0.001
</pre></div></div><div class="public anchor" id="var-millisecond.3F"><h3>millisecond?</h3><div class="usage"><code>(millisecond? value)</code></div><div class="doc"><pre class="plaintext">Returns which millisecond in day does input value belongs to. For example
for date 15.02.2015 it will return number 0</pre></div></div><div class="public anchor" id="var-minute"><h3>minute</h3><div class="usage"></div><div class="doc"><pre class="plaintext">60
</pre></div></div><div class="public anchor" id="var-minute.3F"><h3>minute?</h3><div class="usage"><code>(minute? value)</code></div><div class="doc"><pre class="plaintext">Returns which hour in day does input value belongs to. For example
for date 15.02.2015 it will return number 0</pre></div></div><div class="public anchor" id="var-minutes"><h3>minutes</h3><div class="usage"><code>(minutes n)</code></div><div class="doc"><pre class="plaintext">Function returns value of n minutes as number.
</pre></div></div><div class="public anchor" id="var-month.3F"><h3>month?</h3><div class="usage"><code>(month? value)</code></div><div class="doc"><pre class="plaintext">Returns which month (Gregorian) does input value belongs to. For example
for date 15.02.2015 it will return number 2</pre></div></div><div class="public anchor" id="var-nanosecond"><h3>nanosecond</h3><div class="usage"></div><div class="doc"><pre class="plaintext">1.0E-9
</pre></div></div><div class="public anchor" id="var-normal-year-day-mapping"><h3>normal-year-day-mapping</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Year day to month mapping calculated during compilation with year-day-mapping function.
</pre></div></div><div class="public anchor" id="var-past-years"><h3>past-years</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Definition of past years. Lazy sequence of all past years
according to Gregorian calendar from unix-epoch-year</pre></div></div><div class="public anchor" id="var-period"><h3>period</h3><div class="usage"><code>(period {:keys [weeks days hours seconds minutes milliseconds], :or {weeks 0, days 0, hours 0, seconds 0, minutes 0, milliseconds 0}})</code></div><div class="doc"><pre class="plaintext">Returns number of seconds of all input arguments added together
</pre></div></div><div class="public anchor" id="var-round-number"><h3>round-number</h3><div class="usage"><code>(round-number number)</code><code>(round-number number target-number)</code><code>(round-number number target-number round-how?)</code></div><div class="doc"><pre class="plaintext">Function returns round number that is devidable by target-number.
Rounding strategy can be specified in round-how? options:

 :floor
 :ceil
 :up
 :down

Rounding number strategy is symetric to 0. This means that :ceil will round
negative numbers to lower target-number. I.E (round-number -9.5 1 :ceil) would return -10.
Rounding happens in absolute domain and sign is inserted afterwards.
 
Negative target-numbers are not supported. Can't reason about that yet.</pre></div></div><div class="public anchor" id="var-second"><h3>second</h3><div class="usage"></div><div class="doc"><pre class="plaintext">1
</pre></div></div><div class="public anchor" id="var-second.3F"><h3>second?</h3><div class="usage"><code>(second? value)</code></div><div class="doc"><pre class="plaintext">Returns which second in day does input value belongs to. For example
for date 15.02.2015 it will return number 0</pre></div></div><div class="public anchor" id="var-seconds"><h3>seconds</h3><div class="usage"><code>(seconds n)</code></div><div class="doc"><pre class="plaintext">Function returns value of n seconds as number.
</pre></div></div><div class="public anchor" id="var-time-context"><h3>time-context</h3><div class="usage"><code>(time-context value)</code></div><div class="doc"><pre class="plaintext">Similar to day-context only for time values [millisecond, second, minute, hour]
</pre></div></div><div class="public anchor" id="var-value-.3Edate"><h3>value-&gt;date</h3><div class="usage"><code>(value-&gt;date value)</code></div><div class="doc"><pre class="plaintext">Returns Date instance for value in seconds for current. Function first
transforms value to local *offset* value.</pre></div></div><div class="public anchor" id="var-week"><h3>week</h3><div class="usage"></div><div class="doc"><pre class="plaintext">604800
</pre></div></div><div class="public anchor" id="var-week-in-year.3F"><h3>week-in-year?</h3><div class="usage"><code>(week-in-year? value)</code></div><div class="doc"><pre class="plaintext">Returns which week in year does input value belongs to. For example
for date 15.02.2015 it will return number 6</pre></div></div><div class="public anchor" id="var-weekend.3F"><h3>weekend?</h3><div class="usage"><code>(weekend? value)</code></div><div class="doc"><pre class="plaintext">Returns true if value in seconds belongs to *weekend-days*
</pre></div></div><div class="public anchor" id="var-weeks"><h3>weeks</h3><div class="usage"><code>(weeks n)</code></div><div class="doc"><pre class="plaintext">Function returns value of n weeks as number.
</pre></div></div><div class="public anchor" id="var-with-time-configuration"><h3>with-time-configuration</h3><h4 class="type">macro</h4><div class="usage"><code>(with-time-configuration {:keys [offset holiday? weekend-days], :or {weekend-days *weekend-days*, holiday? (fn [_] false), offset nil}} &amp; body)</code></div><div class="doc"><pre class="plaintext">Utility macro to put context frame on computation scope. Specify:
  
* offset       - +/- number
* holiday?     - (fn [day-context] true | false)
* weekend-days - (fn [number] true | false)</pre></div></div><div class="public anchor" id="var-year-day-mapping"><h3>year-day-mapping</h3><div class="usage"><code>(year-day-mapping leap-year?)</code></div><div class="doc"><pre class="plaintext">Calculates day mapping. Keys are days values are months. Function will return map
where keys are days in year from 1-36[56] and month as value for that day.</pre></div></div><div class="public anchor" id="var-year.3F"><h3>year?</h3><div class="usage"><code>(year? value)</code></div><div class="doc"><pre class="plaintext">For given value year? returns year that value belogs to.
</pre></div></div></div></body></html>